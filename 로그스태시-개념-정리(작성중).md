# 1. Logstash란 ?
## 1.1. 개요
* 데이터 파이프라인 기능을 포함하는 데이터 수집 엔진.
* 다양한 이벤트와 로그를 수집, 관리, 전송하는 도구.
* 수집(input)과 가공(filter)은 plugin을 통해 이루어진다.
   - logstash에서 제공하는 plugin도 다수 존재하며, 또는 직접 plugin을 만들 수 있다.
      + input : https://www.elastic.co/guide/en/logstash/current/input-plugins.html
      + filter : https://www.elastic.co/guide/en/logstash/current/filter-plugins.html
* 출력(output)은 사용자가 원하는 외부 저장소로 routing 된다.

## 1.2. 배경
* 비정형식의 로그 데이터
   - 로그를 기록하는 주체에 따라 형식이 가지각색.
      + webserver access log
         1. "%h %l %u %t \"%r\" %>s %b"
         2. "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\""
      + mysql slow query log
   - 일관성 없는 형식으로 인해 분석에 용이하지 않음.
      + date
         1. Y-m-d H:i:s
         2. MM/d/Y H:i:s
* 분산되어있는 로그 데이터
   - server / application 등에 따라 저장위치 상이.
* 로그 분석을 위한 지식 필요
   - logger의 대한 이해도 요구.
   - 비전문가가 파악하기 힘듬.
 
****

# 2. Logstash flow
## 2.1. Input
* 다양한 포맷의 원천 데이터, 비정형 데이터에 대응 한다.
![image](https://user-images.githubusercontent.com/43233688/45805979-dbc88e80-bcfa-11e8-8b9a-126458c90a39.png)

## 2.2. Filter
* 입력된 데이터를 분석하여 공통형식으로 통합한다.
![image](https://user-images.githubusercontent.com/43233688/45806002-e8e57d80-bcfa-11e8-8d45-5e5be9c874be.png)

## 2.3. Output
* 가공 된 데이터를 다양한 저장소로 라우팅한다.
![image](https://user-images.githubusercontent.com/43233688/45806028-f995f380-bcfa-11e8-9a82-9ca4a539156d.png)


****

# 3. Logstash 실습
## 3.1. 웹서버 아파치 로그 실습했던거 적자
## 3.2. 웹서버 아파치 로그 실습했던거 적자
## 3.3. 웹서버 아파치 로그 실습했던거 적자
## 3.4. 웹서버 아파치 로그 실습했던거 적자
## 3.5. 웹서버 아파치 로그 실습했던거 적자